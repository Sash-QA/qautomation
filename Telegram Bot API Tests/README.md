# Telegram Bot API Tests 
[<img src="https://run.pstmn.io/button.svg" alt="Run In Postman" style="width: 128px; height: 32px;">](https://god.gw.postman.com/run-collection/20975438-65bf33f3-4206-45fc-a09a-dd83218170ca?action=collection%2Ffork&source=rip_markdown&collection-url=entityId%3D20975438-65bf33f3-4206-45fc-a09a-dd83218170ca%26entityType%3Dcollection%26workspaceId%3D80a53969-7106-44ef-a521-37d44788bd5f)

Эта коллекция является моим учебным проектом, демонстрирующим мои навыки работы с Postman. В ней используются некоторые методы из [Telegram Bot API](https://core.telegram.org/bots/api).

## Инструкция перед началом тестирования:

1. Создать бота в [BotFather](https://t.me/BotFather) с помощью команды /newbot
1. Скопировать полученный токен бота в переменную коллекции TOKEN в поле Current value
1. В переменной webhookUrl указать URL вебхука или заглушку [example.com](https://example.com)
1. Запустить бота, отправив ему команду /start

## Описание:
- Метод getUpdates является связующим звеном, поскольку из значений в теле ответа формируются переменные, необходимые для дальнейших тестов
- Если тесты ломаются на методе getUpdates, то решением проблемы может стать отправка боту любого сообщения. Это происходит по причине того, что методы вебхука очищают объекты из тела ответа метода getUpdates
- Для всех валидных запросов обязательно наличие в теле ответа ключа "ok" со значением "true" и ключа "result", поэтому эти тесты находятся на уровне папки Positive Tests и являются общими для всех вложенных запросов
- Для невалидных запросов с методами GET и POST обязательно наличие в теле ответа ключа "ok" со значением "false" и ключа "description". Эти тесты также находятся на уровне некоторых папок
- Для генерации случайных изображений используется сервис [Lorem Picsum](https://picsum.photos/)

## Обнаруженные баги:

При использовании метода sendLocation, координаты, отправленные в запросе, немного расходятся с координатами, полученными в теле ответа. Подробнее описано в [баг-репорте](https://docs.google.com/spreadsheets/d/1S8UoDU--_amDJ-d4ftZk_LLcI3FtDMKvZuW2vv-m6NA/edit?usp=sharing). Баг не является серьезным, так как при сравнении точек координат на карте наблюдаются расхождения максимум в пару метров.
